var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(n,e,o){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(e,o))}function c(t,n){t.appendChild(n)}function s(t,n,e){t.insertBefore(n,e||null)}function u(t){t.parentNode.removeChild(t)}function a(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function h(t){return document.createTextNode(t)}function p(){return h(" ")}function $(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t){return""===t?null:+t}function y(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function b(t,n){t.value=null==n?"":n}let x;function v(t){x=t}const w=[],k=[],_=[],z=[],S=Promise.resolve();let j=!1;function E(t){_.push(t)}const O=new Set;let M=0;function W(){const t=x;do{for(;M<w.length;){const t=w[M];M++,v(t),C(t.$$)}for(v(null),w.length=0,M=0;k.length;)k.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];O.has(n)||(O.add(n),n())}_.length=0}while(w.length);for(;z.length;)z.pop()();j=!1,O.clear(),v(t)}function C(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const A=new Set;let N;function R(t,n){t&&t.i&&(A.delete(t),t.i(n))}function B(t,n,e,o){if(t&&t.o){if(A.has(t))return;A.add(t),N.c.push((()=>{A.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}else o&&o()}function D(t){t&&t.c()}function T(t,e,i,l){const{fragment:c,after_update:s}=t.$$;c&&c.m(e,i),l||E((()=>{const e=t.$$.on_mount.map(n).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),s.forEach(E)}function L(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function P(t,n){-1===t.$$.dirty[0]&&(w.push(t),j||(j=!0,S.then(W)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function I(n,r,i,l,c,s,a,f=[-1]){const d=x;v(n);const h=n.$$={fragment:null,ctx:[],props:s,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};a&&a(h.root);let p=!1;if(h.ctx=i?i(n,r.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return h.ctx&&c(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),p&&P(n,t)),e})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!l&&l(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();r.intro&&R(n.$$.fragment),T(n,r.target,r.anchor,r.customElement),W()}v(d)}class q{$destroy(){L(this,1),this.$destroy=t}$on(n,e){if(!r(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function H(n){let e,o,r,i,l,a,f,$,g,b=n[1].name+"";return{c(){e=d("circle"),l=p(),a=d("text"),f=h(b),m(e,"r",o=n[0]/2),m(e,"cx",n[0]),m(e,"cy",n[0]),m(e,"fill","transparent"),m(e,"stroke",r=n[1].colour),m(e,"stroke-width",n[0]),m(e,"stroke-dasharray",n[2]),m(e,"style",i=`transform:rotate(-${n[1].rotation}deg)`),m(e,"class","svelte-9wlr4a"),m(a,"alignment-baseline","central"),m(a,"text-anchor","middle"),m(a,"transform",$=`rotate(-${n[1].textRotation})`),m(a,"x",g=n[0]+n[0]/2),m(a,"y",n[0]),m(a,"fill","white"),m(a,"stroke-width","2px"),m(a,"dy",".1em"),m(a,"class","svelte-9wlr4a")},m(t,n){s(t,e,n),s(t,l,n),s(t,a,n),c(a,f)},p(t,[n]){1&n&&o!==(o=t[0]/2)&&m(e,"r",o),1&n&&m(e,"cx",t[0]),1&n&&m(e,"cy",t[0]),2&n&&r!==(r=t[1].colour)&&m(e,"stroke",r),1&n&&m(e,"stroke-width",t[0]),4&n&&m(e,"stroke-dasharray",t[2]),2&n&&i!==(i=`transform:rotate(-${t[1].rotation}deg)`)&&m(e,"style",i),2&n&&b!==(b=t[1].name+"")&&y(f,b),2&n&&$!==($=`rotate(-${t[1].textRotation})`)&&m(a,"transform",$),1&n&&g!==(g=t[0]+t[0]/2)&&m(a,"x",g),1&n&&m(a,"y",t[0])},i:t,o:t,d(t){t&&u(e),t&&u(l),t&&u(a)}}}function F(t,n,e){let o,r,{radius:i}=n,{option:l}=n;return t.$$set=t=>{"radius"in t&&e(0,i=t.radius),"option"in t&&e(1,l=t.option)},t.$$.update=()=>{1&t.$$.dirty&&e(3,o=Math.PI*i),10&t.$$.dirty&&e(2,r=`0 ${o-l.pieSize} ${l.pieSize}`)},[i,l,r,o]}class G extends q{constructor(t){super(),I(this,t,F,H,i,{radius:0,option:1})}}const J=[];let K=function(n,e=t){let o;const r=new Set;function l(t){if(i(n,t)&&(n=t,o)){const t=!J.length;for(const t of r)t[1](),J.push(t,n);if(t){for(let t=0;t<J.length;t+=2)J[t][0](J[t+1]);J.length=0}}}return{set:l,update:function(t){l(t(n))},subscribe:function(i,c=t){const s=[i,c];return r.add(s),1===r.size&&(o=e(l)||t),i(n),()=>{r.delete(s),0===r.size&&(o(),o=null)}}}}(!1);function Q(t,n,e){const o=t.slice();return o[8]=n[e],o}function U(t){let n,e;return n=new G({props:{option:t[8],radius:t[4]}}),{c(){D(n.$$.fragment)},m(t,o){T(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.option=t[8]),16&e&&(o.radius=t[4]),n.$set(o)},i(t){e||(R(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){L(n,t)}}}function V(t){let n,e,r,i,l;return{c(){n=d("text"),e=h("Click to Spin!"),r=d("circle"),m(n,"alignment-baseline","central"),m(n,"text-anchor","middle"),m(n,"x",t[4]),m(n,"y",t[4]),m(n,"fill","var(--black)"),m(n,"dy",".1em"),m(n,"class","svelte-1lm1v7s"),m(r,"r",t[4]),m(r,"cx",t[4]),m(r,"cy",t[4]),m(r,"fill","#DDD"),m(r,"fill-opacity","0.3"),m(r,"z","999")},m(o,u){s(o,n,u),c(n,e),s(o,r,u),i||(l=[$(r,"click",t[6]),$(r,"keydown",t[6])],i=!0)},p(t,e){16&e&&m(n,"x",t[4]),16&e&&m(n,"y",t[4]),16&e&&m(r,"r",t[4]),16&e&&m(r,"cx",t[4]),16&e&&m(r,"cy",t[4])},d(t){t&&u(n),t&&u(r),i=!1,o(l)}}}function X(t){let n,e,r,i,l,g,y,b,x,v,w=t[0],k=[];for(let n=0;n<w.length;n+=1)k[n]=U(Q(t,w,n));const _=t=>B(k[t],1,1,(()=>{k[t]=null}));let z=t[0].length&&!t[2]&&V(t);return{c(){n=f("div"),e=f("div"),e.textContent="Ë¯",r=p(),i=d("svg");for(let t=0;t<k.length;t+=1)k[t].c();l=h(""),z&&z.c(),m(e,"class","chevron svelte-1lm1v7s"),m(i,"style",g=K?`transform: rotate(${t[3]}deg); transition-duration: ${t[3]+500}ms;`:""),m(i,"width",t[1]),m(i,"height",t[1]),m(i,"viewBox",y=`0 0 ${t[1]} ${t[1]}`),m(i,"class","svelte-1lm1v7s"),m(n,"class","center svelte-1lm1v7s")},m(o,u){s(o,n,u),c(n,e),c(n,r),c(n,i);for(let t=0;t<k.length;t+=1)k[t].m(i,null);c(i,l),z&&z.m(i,null),b=!0,x||(v=$(i,"transitionend",t[5]),x=!0)},p(t,[n]){if(17&n){let e;for(w=t[0],e=0;e<w.length;e+=1){const o=Q(t,w,e);k[e]?(k[e].p(o,n),R(k[e],1)):(k[e]=U(o),k[e].c(),R(k[e],1),k[e].m(i,l))}for(N={r:0,c:[],p:N},e=w.length;e<k.length;e+=1)_(e);N.r||o(N.c),N=N.p}t[0].length&&!t[2]?z?z.p(t,n):(z=V(t),z.c(),z.m(i,null)):z&&(z.d(1),z=null),(!b||8&n&&g!==(g=K?`transform: rotate(${t[3]}deg); transition-duration: ${t[3]+500}ms;`:""))&&m(i,"style",g),(!b||2&n)&&m(i,"width",t[1]),(!b||2&n)&&m(i,"height",t[1]),(!b||2&n&&y!==(y=`0 0 ${t[1]} ${t[1]}`))&&m(i,"viewBox",y)},i(t){if(!b){for(let t=0;t<w.length;t+=1)R(k[t]);b=!0}},o(t){k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)B(k[t]);b=!1},d(t){t&&u(n),a(k,t),z&&z.d(),x=!1,v()}}}function Y(t,n,e){let o,r;l(t,K,(t=>e(2,r=t)));let{options:i}=n,{size:c}=n,{onWinner:s}=n,u=0;return t.$$set=t=>{"options"in t&&e(0,i=t.options),"size"in t&&e(1,c=t.size),"onWinner"in t&&e(7,s=t.onWinner)},t.$$.update=()=>{4&t.$$.dirty&&r&&e(3,u=Math.floor(5001*Math.random())+2e3),2&t.$$.dirty&&e(4,o=c/2)},[i,c,r,u,o,function(){if(r){const t=(u+90)%360;let n;i.some((e=>{if(e.rotation>=t)return!0;n=e})),K.set(!1),s(n)}},function(){K.set(!0)},s]}class Z extends q{constructor(t){super(),I(this,t,Y,X,i,{options:0,size:1,onWinner:7})}}function tt(t,n,e){const o=t.slice();return o[15]=n[e],o}function nt(t){let n,e,o,r,i,l,a,d,$,g,b,x=t[15].name+"",v=t[15].weight+"";return{c(){n=f("tr"),e=f("td"),o=h(x),r=p(),i=f("td"),l=h(v),a=p(),d=f("td"),$=f("div"),b=p(),m($,"style",g=`height: 20px; width:${t[15].percentage}px; background-color: ${t[15].colour}`)},m(t,u){s(t,n,u),c(n,e),c(e,o),c(n,r),c(n,i),c(i,l),c(n,a),c(n,d),c(d,$),c(n,b)},p(t,n){1&n&&x!==(x=t[15].name+"")&&y(o,x),1&n&&v!==(v=t[15].weight+"")&&y(l,v),1&n&&g!==(g=`height: 20px; width:${t[15].percentage}px; background-color: ${t[15].colour}`)&&m($,"style",g)},d(t){t&&u(n)}}}function et(n){let e,o,r,i,l;return{c(){e=f("tr"),o=f("td"),r=f("button"),r.textContent="Reset"},m(t,u){s(t,e,u),c(e,o),c(o,r),i||(l=$(r,"click",n[7]),i=!0)},p:t,d(t){t&&u(e),i=!1,l()}}}function ot(t){let n,e,r,i,l,d,x,v,w,k,_,z,S,j,E,O,M,W,C,A,N,P,I,q,H,F=t[3]?`Winner: ${t[3].name}!!!`:"",G=t[0],J=[];for(let n=0;n<G.length;n+=1)J[n]=nt(tt(t,G,n));let K=t[0].length&&et(t);return P=new Z({props:{onWinner:t[6],size:rt,options:t[0]}}),{c(){n=f("main"),e=f("h1"),e.textContent="TC-Spinner",r=p(),i=f("table"),l=f("thead"),l.innerHTML="<tr><td>Name</td> \n\t\t\t\t<td>Weight</td> \n\t\t\t\t<td></td></tr>",d=p(),x=f("tbody");for(let t=0;t<J.length;t+=1)J[t].c();v=p(),K&&K.c(),w=p(),k=f("form"),_=f("input"),z=p(),S=f("input"),j=p(),E=f("input"),M=p(),W=f("h2"),C=h(F),N=p(),D(P.$$.fragment),m(e,"class","svelte-16ri943"),m(_,"type","text"),m(S,"type","number"),m(S,"min","1"),m(S,"max","10"),m(E,"type","submit"),E.value="Add",E.disabled=O=t[0].some(t[10])||""===t[1]||t[4],m(W,"style",A=`color:${t[3]?.colour||"black"}`),m(n,"class","svelte-16ri943")},m(o,u){s(o,n,u),c(n,e),c(n,r),c(n,i),c(i,l),c(i,d),c(i,x);for(let t=0;t<J.length;t+=1)J[t].m(x,null);var a;c(x,v),K&&K.m(x,null),c(n,w),c(n,k),c(k,_),b(_,t[1]),c(k,z),c(k,S),b(S,t[2]),c(k,j),c(k,E),c(n,M),c(n,W),c(W,C),c(n,N),T(P,n,null),I=!0,q||(H=[$(_,"input",t[8]),$(S,"input",t[9]),$(k,"submit",(a=t[5],function(t){return t.preventDefault(),a.call(this,t)}))],q=!0)},p(t,[n]){if(1&n){let e;for(G=t[0],e=0;e<G.length;e+=1){const o=tt(t,G,e);J[e]?J[e].p(o,n):(J[e]=nt(o),J[e].c(),J[e].m(x,v))}for(;e<J.length;e+=1)J[e].d(1);J.length=G.length}t[0].length?K?K.p(t,n):(K=et(t),K.c(),K.m(x,null)):K&&(K.d(1),K=null),2&n&&_.value!==t[1]&&b(_,t[1]),4&n&&g(S.value)!==t[2]&&b(S,t[2]),(!I||19&n&&O!==(O=t[0].some(t[10])||""===t[1]||t[4]))&&(E.disabled=O),(!I||8&n)&&F!==(F=t[3]?`Winner: ${t[3].name}!!!`:"")&&y(C,F),(!I||8&n&&A!==(A=`color:${t[3]?.colour||"black"}`))&&m(W,"style",A);const e={};1&n&&(e.options=t[0]),P.$set(e)},i(t){I||(R(P.$$.fragment,t),I=!0)},o(t){B(P.$$.fragment,t),I=!1},d(t){t&&u(n),a(J,t),K&&K.d(),L(P),q=!1,o(H)}}}const rt=500;function it(t,n,e){let o;l(t,K,(t=>e(4,o=t)));const r=Math.PI*rt/2,i=function*(){const t=["#0091be","#eb6404","#95d600","#fec600","#27292d"];let n=0;for(;;)n<t.length?yield t[n++]:yield`#${Math.floor(16777100*Math.random()).toString(16)}`}();let c,s=[],u="",a=1;function f(t,n){let e=t.weight/n*100;e>100&&(e=100);let o=r*e/100;return Object.assign(Object.assign({},t),{percentage:e,pieSize:o,rotation:0})}return[s,u,a,c,o,function(){const t=s.reduce(((t,n)=>t+n.weight),0)+a,n=i.next().value,o=f({name:u,weight:a,colour:n,percentage:null,rotation:0,pieSize:null,textRotation:null},t);!function(t){let n=[...t.map(((n,e)=>{const o=t.slice(0,e).reduce(((t,n)=>t+n.percentage/100*360),0);return Object.assign(Object.assign({},n),{rotation:o})}))];n.length>1?e(0,s=[...n.map(((t,e)=>{const o=(e+1)%n.length;let r=n[o].rotation;return r=0===r?360:r,Object.assign(Object.assign({},t),{textRotation:(t.rotation+r)/2})}))]):e(0,s=n)}([...s.map((n=>f(n,t))),o]),e(1,u=""),e(2,a=1)},function(t){e(3,c=t)},function(){e(0,s=[]),e(3,c=void 0)},function(){u=this.value,e(1,u)},function(){a=g(this.value),e(2,a)},t=>t.name===u]}return new class extends q{constructor(t){super(),I(this,t,it,ot,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
